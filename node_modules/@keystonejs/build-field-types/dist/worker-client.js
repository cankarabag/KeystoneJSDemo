"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.createWorker = createWorker;
exports.destroyWorker = destroyWorker;
exports.getWorker = getWorker;

var _jestWorker = _interopRequireDefault(require("jest-worker"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

let worker;

function createWorker() {
  worker = new _jestWorker.default(require.resolve('./worker'));
}

function destroyWorker() {
  if (worker !== undefined) {
    worker.end();
    worker = undefined;
  }
}

function getWorker() {
  if (worker === undefined) {
    throw new Error('worker not defined');
  }

  return worker;
}