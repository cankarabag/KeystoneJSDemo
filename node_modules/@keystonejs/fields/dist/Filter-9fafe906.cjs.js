'use strict';

function _interopDefault(ex) {
  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;
}

var _defineProperty = _interopDefault(require("@babel/runtime/helpers/defineProperty"));

var dateFns = require('date-fns');

var dayPicker = require('@arch-ui/day-picker');

var React = require('react');

var React__default = _interopDefault(React);

const FORMAT = 'YYYY-MM-DD';

class CalendarDayFilterView extends React.Component {
  constructor(props) {
    super(props);

    _defineProperty(this, "handleSelectedChange", value => {
      const {
        onChange
      } = this.props;

      if (value === null) {
        value = dateFns.format(new Date(), FORMAT);
      }

      onChange(value);
      this.setState({
        value
      });
    });

    this.state = {
      value: dateFns.format(new Date(), FORMAT)
    };
  }

  render() {
    const {
      filter
    } = this.props;
    if (!filter) return null;
    return React__default.createElement(dayPicker.TextDayPicker, {
      date: this.state.value,
      onChange: this.handleSelectedChange
    });
  }

}

exports.default = CalendarDayFilterView;
